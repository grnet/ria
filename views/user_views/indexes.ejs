<%- include('../partials/head.ejs') %>

    <div class="govgr-layout-wrapper govgr-layout-wrapper__full-height">
        <div class="govgr-width-container">
            <div class="govgr-main-wrapper">
                <div class="govgr-grid-column-two-thirds">
                    <form>
                        <div id="errors" style="display: none;">
                            <!--Display validation errors here-->
                            <!-- <div class="alert alert-danger"> 
                    <ul id="alerts"></ul>                     
                </div>                 
            </div>   -->
                            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
                                role="alert">
                                <a href="#" class="close" data-dismiss="alert" aria-label="close"></a> <strong>
                                    <ul id="alerts"></ul>
                                </strong>
                            </div>
                        </div>
                        <h1 class="govgr-heading-xl">Επεξεργασία Στοιχείων Χρήστη</h1>
                        <!-- <div class="govgr-field">
                            <label class="govgr-label" for="fname"> <span>Όνομα χρήστη:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="text" id="fname" name="fname"
                                    placeholder="Όνομα χρήστη" value="<%= user.fname %>" required minlength="5" />
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="lname"> <span>Επώνυμο χρήστη:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="text" id="lname" name="lname"
                                    placeholder="Επώνυμο χρήστη" value="<%= user.lname %>" required minlength="5" />
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="username"> <span>Username:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="text" id="username"
                                    name="username" placeholder="Username" value="<%= user.username %>" required
                                    minlength="5" />
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="password"> <span>Κωδικός Πρόσβασης:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="password" id="password"
                                    name="password" minlength="8" />
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="password"> <span>Νέος Κωδικός Πρόσβασης:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="password" size="20"
                                    id="new_password" name="new_password" minlength="8"
                                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,}$"
                                    oninvalid="this.setCustomValidity('Ο κωδικός πρέπει να περιέχει τουλάχιστον ένα πεζό και ένα κεφαλαίο γράμμα, έναν αριθμό και ένα σύμβολο(!@#$%^&*_=+-).')"
                                    oninput="this.setCustomValidity('')" />
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="password"> <span>Επανάληψη νέου κωδικού πρόσβασης
                                    χρήστη:</span>
                                <input class="govgr-input govgr-!-width-one-half" type="password" size="20"
                                    id="password_repeat" name="password_repeat" minlength="8"
                                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,}$"
                                    oninvalid="this.setCustomValidity('Ο κωδικός πρέπει να περιέχει τουλάχιστον ένα πεζό και ένα κεφαλαίο γράμμα, έναν αριθμό και ένα σύμβολο(!@#$%^&*_=+-).')"
                                    oninput="this.setCustomValidity('')" />
                            </label>
                            <div id="msg"></div>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="ypoyrgeio">
                                Υπουργείο:
                                <select class="govgr-select govgr-!-width-two-thirds" id="ypoyrgeio" name="ypoyrgeio"
                                    required>
                                    <option value="" selected disabled>Eπιλογή</option>
                                </select>
                            </label>
                        </div>
                        <hr />
                        <div class="govgr-field">
                            <label class="govgr-label" for="role">
                                Ρόλος:
                                <select class="govgr-select govgr-!-width-two-thirds" id="role" name="role">
                                    <option selected disabled>Eπιλογή</option>
                                    <option value="Συντάκτης επισπεύδοντος Υπουργείου">Συντάκτης επισπεύδοντος
                                        Υπουργείου
                                    </option>
                                    <option value="Αρμόδιος επισπεύδοντος Υπουργείου και άλλων συναρμόδιων Υπουργείων">
                                        Αρμόδιος επισπεύδοντος Υπουργείου και άλλων συναρμόδιων Υπουργείων
                                    </option>
                                    <option value="Βουλευτής">Βουλευτής</option>
                                    <option value="Νομοπαρασκευαστική Επιτροπή (ΓΓΝΚΘ)">Νομοπαρασκευαστική Επιτροπή
                                        (ΓΓΝΚΘ)
                                    </option>
                                    <option value="Γενικό Λογιστήριο του Κράτους">Γενικό Λογιστήριο του Κράτους
                                    </option>
                                    <option
                                        value="Επιτροπή Αξιολόγησης Ποιότητας της Νομοπαρασκευαστικής Διαδικασίας (ΓΓΝΚΘ)">
                                        Επιτροπή Αξιολόγησης Ποιότητας της Νομοπαρασκευαστικής Διαδικασίας (ΓΓΝΚΘ)
                                    </option>
                                    <option value="Γραφείο Καλής Νομοθέτησης (ΓΓΝΚΘ)">Γραφείο Καλής Νομοθέτησης
                                        (ΓΓΝΚΘ)</option>
                                    <option value="Διεύθυνση Νομοπαρασκευαστικής Διαδικασίας (ΓΓΝΚΘ)">Διεύθυνση
                                        Νομοπαρασκευαστική Διαδικασίας (ΓΓΝΚΘ)
                                    </option>
                                    <option value="Γενικός Γραμματέας Νομικών και Κοινοβουλευτικών Θεμάτων">Γενικός
                                        Γραμματέας Νομικών και Κοινοβουλευτικών Θεμάτων
                                    </option>
                                    <option value="Βουλή">Βουλή</option>
                                </select>
                            </label>
                        </div> <br />
                        <div class="govgr-field">
                            <fieldset class="govgr-fieldset">
                                <legend for="isAdmin" role="heading" aria-level="1"
                                    class="govgr-fieldset__legend govgr-heading-l">
                                    Δικαιώματα Διαχείρισης
                                </legend>
                                <p class="govgr-hint">
                                    Ο χρήστης έχει δικαιώματα διαχείρισης: </p>
                                <div class="govgr-checkboxes" id="isAdmin_checkbox">
                                    <div class="govgr-checkboxes__item">
                                        <label class="govgr-label govgr-checkboxes__label">
                                            <input class="govgr-checkboxes__input" type="checkbox" id="isAdmin"
                                                name="isAdmin" />
                                            <input type="hidden" name="isAdmin" id="isAdmin_hidden" />
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <hr /> <br />
                        <div class="govgr-button-group">
                            <input type="submit" id="edit_submit" name="edit_submit" class="govgr-btn govgr-btn-primary"
                                value="Επεξεργασία" />
                            <button id="delete_user" class="govgr-btn govgr-btn-warning">Διαγραφή Χρήστη</button>
                        </div> -->
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
    <%- include('../partials/footer.ejs') %>

        <style>
            .display {
                table-layout: fixed;
                overflow-wrap: break-word;
            }
        </style>
        <script type="text/javascript" src="/js/enums.js"></script>
        <script type="text/javascript" src="/js/nav_scripts.js"></script>
        <script>           
            const userRole = "<%= user.role %>";
            setUserRestrictions(userRole);
            const isAdmin = '<%= user.isAdmin %>';

            $("#back").on("click", function (ev) {
                window.location.href = "/user_views/dashboard";
            });

        </script>
        <script type="text/javascript" src="/js/common_user_scripts.js"></script>
        </body>

        </html>